<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hangman Game - Professions</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
      color: white;
      overflow: hidden;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .game-box {
      background: rgba(0, 0, 0, 0.7);
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
      max-width: 600px;
    }

    .description {
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 20px;
      color: #93c5fd;
    }

    #word {
      font-size: 28px;
      margin-bottom: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px; /* Espa√ßo entre palavras */
    }

    .letter {
      display: inline-block;
      width: 22px;
      text-align: center;
      border-bottom: 2px solid white;
    }

    .space {
      width: 30px; /* separador entre palavras */
      border: none;
    }

    .keyboard {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 8px;
      justify-items: center;
    }

    .keyboard button {
      background: #333;
      border: none;
      color: white;
      padding: 10px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .keyboard button:disabled {
      background: #555;
      cursor: not-allowed;
    }

    .keyboard button:hover:not(:disabled) {
      background: #555;
    }

    #message {
      margin-top: 20px;
      font-size: 18px;
    }

    .btn {
      margin-top: 20px;
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      background: #2563eb;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }

    .btn:hover {
      background: #1d4ed8;
    }

    a {
      display: inline-block;
      margin-top: 10px;
      color: #93c5fd;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <canvas id="stars"></canvas>
  <div class="container">
    <div class="game-box">
      <div id="description" class="description"></div>
      <div id="word"></div>
      <div id="keyboard" class="keyboard"></div>
      <div id="message"></div>
      <button id="restart" class="btn" onclick="restartGame()">Restart</button>
      <a href="ingles.html">&larr; Back to Home</a>
    </div>
  </div>

  <script>
    const questions = [
      { description: "A vet likes", answer: "Animals" },
      { description: "A doctor likes", answer: "To help peoples" },
      { description: "A teacher likes", answer: "To teach" },
      { description: "An astronaut likes", answer: "Go to espace" },
      { description: "A computer programmer likes", answer: "To programer" }
    ];

    let currentQuestion, displayedWord, wrongGuesses;

    const descriptionEl = document.getElementById("description");
    const wordEl = document.getElementById("word");
    const keyboardEl = document.getElementById("keyboard");
    const messageEl = document.getElementById("message");

    function startGame() {
      currentQuestion = questions[Math.floor(Math.random() * questions.length)];
      wrongGuesses = 0;
      descriptionEl.textContent = currentQuestion.description;

      displayedWord = currentQuestion.answer.split("").map(ch => {
        return ch === " " ? " " : "_";
      });

      updateWordDisplay();
      createKeyboard();
      messageEl.textContent = "";
    }

    function updateWordDisplay() {
      wordEl.innerHTML = "";
      currentQuestion.answer.split("").forEach((ch, i) => {
        const span = document.createElement("span");
        if (ch === " ") {
          span.className = "space";
          span.textContent = " ";
        } else {
          span.className = "letter";
          span.textContent = displayedWord[i] === "_" ? "" : displayedWord[i];
        }
        wordEl.appendChild(span);
      });
    }

    function createKeyboard() {
      keyboardEl.innerHTML = "";
      const alphabet = "abcdefghijklmnopqrstuvwxyz".split("");
      alphabet.forEach(letter => {
        const btn = document.createElement("button");
        btn.textContent = letter;
        btn.onclick = () => handleGuess(letter, btn);
        keyboardEl.appendChild(btn);
      });
    }

    function handleGuess(letter, btn) {
      btn.disabled = true;
      const answerLower = currentQuestion.answer.toLowerCase();

      if (answerLower.includes(letter)) {
        currentQuestion.answer.split("").forEach((ch, i) => {
          if (ch.toLowerCase() === letter) {
            displayedWord[i] = ch;
          }
        });
        updateWordDisplay();

        if (!displayedWord.includes("_")) {
          messageEl.textContent = "üéâ You won!";
          setTimeout(startGame, 2000);
        }
      } else {
        wrongGuesses++;
        if (wrongGuesses >= 6) {
          messageEl.textContent = "Game Over! The answer was: " + currentQuestion.answer;
          setTimeout(startGame, 3000);
        }
      }
    }

    function restartGame() {
      startGame();
    }

    // Fundo animado
    const canvas = document.getElementById("stars");
    const ctx = canvas.getContext("2d");
    let stars = [];
    let letters = [];
    const starCount = 200;
    const letterCount = 15;
    const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function initStars() {
      stars = [];
      for (let i = 0; i < starCount; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 1.5,
          alpha: Math.random(),
          speed: 0.02 + Math.random() * 0.02
        });
      }
    }

    function initLetters() {
      letters = [];
      for (let i = 0; i < letterCount; i++) {
        letters.push({
          char: alphabet[Math.floor(Math.random() * alphabet.length)],
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: 20 + Math.random() * 20,
          alpha: 0.1 + Math.random() * 0.3,
          dx: (Math.random() - 0.5) * 1.5,
          dy: (Math.random() - 0.5) * 1.5
        });
      }
    }

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      stars.forEach(star => {
        star.alpha += star.speed * (Math.random() > 0.5 ? 1 : -1);
        if (star.alpha < 0.1) star.alpha = 0.1;
        if (star.alpha > 1) star.alpha = 1;
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
        ctx.fill();
      });

      letters.forEach(letter => {
        ctx.font = `${letter.size}px Arial`;
        ctx.fillStyle = `rgba(255, 255, 255, ${letter.alpha})`;
        ctx.fillText(letter.char, letter.x, letter.y);
        letter.x += letter.dx;
        letter.y += letter.dy;
        if (letter.x < 0 || letter.x > canvas.width) letter.dx *= -1;
        if (letter.y < 0 || letter.y > canvas.height) letter.dy *= -1;
      });

      requestAnimationFrame(animate);
    }

    initStars();
    initLetters();
    animate();

    startGame();
  </script>
</body>
</html>
